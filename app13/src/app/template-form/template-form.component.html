<h2>Template driven form</h2>
<div class="row">
    <div class="col-6">
        <form #form="ngForm" (ngSubmit)="onSubmit(form)" [hidden]="submitOK">
            <div *ngIf="!form.valid && form.submitted " class="mb-3 alert alert-danger">
                <h4>controllare i dati inseriti sono presenti degli errori</h4>
            </div>
            <div class="mb-3">
                <label class="form-label" for="nome">Nome</label> 
                <input [(ngModel)]="datiForm.nome"
                    type="text" name="nome" id="nome" class="form-control" #nome="ngModel">
            </div>
            <div class="mb-3">
                <label class="form-label" for="cognome">Cognome</label>
                <input   
                    [class.is-invalid]="cognome.invalid && form.submitted"
                    type="text" 
                    name="cognome" 
                    id="cognome" 
                    #cognome="ngModel" 
                    [(ngModel)]="datiForm.cognome" 
                    class="form-control"
                    required
                    >
                <div class="invalid-feedback"> cognome obbligatorio</div>
            </div>
            <div class="mb-3">
                <label class="form-label" for="password">Password</label>
                <input 
                    [(ngModel)]="datiForm.password" 
                    [class.is-invalid]="password.invalid && form.submitted"
                    type="password" 
                    name="password" 
                    id="password" 
                    minlength="6"
                    maxlength="8" 
                    class="form-control"
                    #password="ngModel">
                <div class="invalid-feedback">
                    La password se presente deve avere una lunghezza tra 6 e 8 caratteri
                </div>
            </div> 
           <fieldset class="mb-3">
                <legend>Dove vivi</legend>
                <div class="form-check">
                    <input [(ngModel)]="datiForm.stato" class="form-check-input" type="radio" name="stato" id="statoit" value="italia">
                    <label class="form-check-label" for="statoit"> Italia</label>
                </div>
                <div class="form-check">
                    <input  [(ngModel)]="datiForm.stato" class="form-check-input"type="radio" name="stato" id="statoes" value="estero">
                    <label class="form-check-label"for="statoes"> Estero</label>
                </div>
           </fieldset>
           <fieldset class="mb-3">
            <legend>Interessi</legend>
                <div class="form-check form-check-inline">
                    <input  [(ngModel)]="datiForm.interessiviaggi" class="form-check-input" type="checkbox" name="interessiviaggi" id="interessiviaggi" value="viaggi">
                    <label class="form-check-label" for="interessiviaggi"> Viaggi</label> 
                </div>
                <div class="form-check form-check-inline">
                    <input  [(ngModel)]="datiForm.interessilibri" class="form-check-input" type="checkbox" name="interessilibri" id="interessilibri" value="libri">
                    <label class="form-check-label" for="interessilibri"> Libri</label>
                </div>
                <div class="form-check form-check-inline">
                    <input  [(ngModel)]="datiForm.interessisocial" class="form-check-label" class="form-check-input" type="checkbox" name="interessisocial" id="interessisocial" value="social">
                    <label for="interessisocial"> Social</label> 
                </div>
            </fieldset>
            <div class="mb-3">
                <label class="form-label" for="titolostudio">Titolo di studio</label>
                <select  [(ngModel)]="datiForm.titolostudio" class="form-select"  name="titolostudio" id="titolostudio">        
                    <option >Diploma</option>
                    <option>Laurea</option>
                </select>
            </div>
            <div class="mb-3">
                <label class="form-label" for="commenti">Commenti</label><br>
                <textarea  [(ngModel)]="datiForm.commento"   class="form-control" name="commenti" id="commenti" cols="50" rows="4"></textarea>
            </div>
            <!-- [disabled]="!form.valid" -->
            <input  class="btn btn-primary" type="submit" value="invia"> 
            <input class="btn btn-secondary" type="reset" value="cancella">
            
        </form>
        <div *ngIf="submitOK" class="alert alert-success">
            <h4>Dati inviati correttamente</h4>
            <p>Grazie per la registrazione</p>
        </div>
    </div>
    <div class="col">
       
        <h3> Dati del form</h3>
        <pre>
            {{form.value | json}}
        </pre>
        <h3> Dati del model</h3>
        <pre>
            {{datiModel | json}}
        </pre>
        <h3>Stato del form</h3>
        <ul>
            <li>touched: {{form.touched}}</li>
            <li>dirty: {{form.dirty}}</li>
            <li>valid: {{form.valid}}</li>
            <li>submitted: {{form.submitted}}</li>
        </ul>
    </div>
</div>
